<div>

    <label ng-if ="label" for="{{field}}" class="text-capitalize">{{label}}</label>
    <a href = "#" ng-click="editing(obj[field]);">
    <span ng-hide="obj[field]._editing" >
      <rendered id = {{obj[field].refuuid}}></rendered><br/><code>{{obj[field].refPname}}</code>
    </span>
        </a>

    <div ng-show="obj[field]._editing" id="{{field}}">
        <tags-input custom-class="form-control" ng-blur="obj[field]._editing = false" ng-model= s title="Substance Selector"
                    placeholder="Substance Name" id="substance" name="{{field}}" add-from-autocomplete-only="true" display-property="_name"
                    key-property="approvalID" on-tag-adding='createSubref($tag)'>
            <auto-complete source="loadSubstances($query)" max-results-to-show="25" min-length="1" debounce-delay="0" load-on-down-arrow="true"
                           template="autocomplete-template"></auto-complete>
        </tags-input>
    </div>
<ng-messages for="form.name.$error" ng-if="form.name.$touched">
        <ng-message when="required" class="help-block">*required</ng-message>
    </ng-messages>
</div>