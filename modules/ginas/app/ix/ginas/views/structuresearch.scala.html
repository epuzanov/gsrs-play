@ginas("Structure Search: ", null) {
    @menu()
}{
    <div class = "row info">
        <form class="form-inline"
        method="GET" action="@ix.ginas.controllers.routes.GinasApp.substances()" novalidate>
            <div class="row">
            <div class="col-md-12">
                        <sketcher parent = substance ng-model=parent.structure.molfile></sketcher>
                        </div>
                    </div>
                <div class="row">
                    <div class="col-md-6">
                            <label class="sr-only" for="search-selection">Search Type</label>
                            <select class="form-control col-md-2" id="search-selection" name="type" ng-model = "type" >
                                <option value="Substructure" selected>Substructure</option>
                                <option value="Similarity">Similarity</option>
                                <option value="Exact">Exact</option>
                                <option value="Flex">Flex</option>
                            </select>
                            <label class="sr-only" for="tanimoto-cutoff">Tanimoto threshold</label>

                            <input class="form-control col-md-2"
                            ng-if="type=='Similarity'" type="number" step=".1"
                            min="0" max="1"
                            name="cutoff"
                            id="tanimoto-cutoff"
                            data-toggle="tooltip"
                            title="Tanimoto threshold"
                            ng-model="cutoff"
                            >
                            <input class="form-control col-md-2"
                            ng-if="type=='Exact'" type="number"
                            name="cutoff"
                            id="tanimoto-cutoff"
                            data-toggle="tooltip"
                            title="Tanimoto threshold"
                                ng-hide = "true"
                                ng-init ="cutoff = 1"
                            ng-model="cutoff"
                            >
                            <input type="text" class="form-control"
                            data-toggle="tooltip"
                            title="Query structure"
                            name="q"
                            ng-hide="true"
                            ng-model="substance.q"
                            id="structure">
                        </div>
                        <div class ="col-md-2">
                            <button
                        class="btn btn-primary" id="search-btn">Search</button>
                            </div>
                    </div>
    <div class ="col-md-2">
                        <text-input ng-model="name" field="name" name ="name" label="Name"></text-input>
                    </div>
                    <div class ="col-md-2">
                        <a class="btn btn-primary" ng-click="resolveName(name, 'structureSearch')">Resolve Name</a>
                    </div>
                    <div class="col-md-2 pull-right">
                        <modal-button class= "pull-right padded" type= "export" structureid = parent.structure.id format="sdf" ></modal-button>
                        <modal-button class= "pull-right padded" type= "import"></modal-button>
                    </div>
</form>
    <spinner name="structureSearchSpinner"><loading></loading><br/></spinner>
    <div class = "structureSearch"></div>


    <div class="modal fade" tabindex="-1" role="dialog" id="spinModal"
    aria-label="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <center><img src='@routes.Assets.at("ncats/images/spinners/294.GIF")' alt ="loading..."></center>
            </div>
        </div>
    </div>

}
