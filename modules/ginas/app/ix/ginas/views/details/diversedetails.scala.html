@import ix.ginas.controllers.GinasApp
@import ix.ginas.controllers.v1.SubstanceFactory
@(sub: ix.ginas.models.v1.StructurallyDiverseSubstance)


@substancedetails(sub) {
    <li role="presentation" class="active"><a ng-click="scrollTo('definition')">Definition</a></li>
}{
<div></div>
    } {
    <div class="row info" id="definition">
    	<div class="col-md-5" >
    	<br>
    	<table class="table table-striped keyvalue">
            @if(sub.structurallyDiverse.sourceMaterialClass != null) {
                <tr><td>Source Materials Class</td><td> @GinasApp.getCV.getDisplay("SOURCE_MATERIAL_CLASS", sub.structurallyDiverse.sourceMaterialClass)</td></tr>
            }

            @if(sub.structurallyDiverse.sourceMaterialType != null) {
                <tr><td>Source Materials Type</td><td > @GinasApp.getCV.getDisplay("SOURCE_MATERIAL_TYPE", sub.structurallyDiverse.sourceMaterialType)</td></tr>
            }

            @if(sub.structurallyDiverse.sourceMaterialState != null) {
                <tr><td>Source Materials State</td><td > @GinasApp.getCV.getDisplay("SOURCE_MATERIAL_STATE", sub.structurallyDiverse.sourceMaterialState)</td></tr>
            }
            @if(sub.structurallyDiverse.getReferences() != null && sub.structurallyDiverse.getReferences().size() > 0) {
                <tr><td>Definition References</td>
                    <td><referencesmanager indices substance ="'@sub.getUuid()'" divid ="'@sub.getUuid()'" references = "@GinasApp.getAsJson(sub.structurallyDiverse.getReferences())"></referencesmanager></td></tr>
                  }
        </table>
        </div>
        <div class="col-md-12" ng-if="audit == true">
            Created by <code>@sub.structurallyDiverse.createdBy</code> on <code>@sub.structurallyDiverse.created</code> , Edited by <code>@sub.structurallyDiverse.lastEditedBy</code> on <code>@sub.structurallyDiverse.lastEdited</code>
        </div>
    </div>
    @if(sub.structurallyDiverse.parentSubstance != null) {
    <div class="row info" id="substances">
    	<div class="col-md-12">
            Parent Substance:<br>
            @properties.subref(sub.structurallyDiverse.parentSubstance)
        </div>
    </div>
    }
    <div class="row info" id="details">
    	<div class="col-md-5">
    	<br>
    	<table class="table table-striped keyvalue">
            @if(sub.structurallyDiverse.organismFamily != null){
                <tr>
                    <td>Organism Family</td>
                    <td><a href="@{ix.ginas.controllers.routes.GinasApp.substances()}?facet=Family/@sub.structurallyDiverse.organismFamily" target="_self">@sub.structurallyDiverse.organismFamily</a></td>
                </tr>
            }
	        @if(sub.structurallyDiverse.organismGenus != null) {
                <tr>
                    <td>Organism Genus </td>
                    <td><a href="@{ix.ginas.controllers.routes.GinasApp.substances()}?facet=Genus/@sub.structurallyDiverse.organismGenus" target="_self">@sub.structurallyDiverse.organismGenus</a></td>
                </tr>
            }
	        @if(sub.structurallyDiverse.organismSpecies != null) {
                <tr>
                    <td>Organism Species</td>
                    <td><a href="@{ix.ginas.controllers.routes.GinasApp.substances()}?facet=Species/@sub.structurallyDiverse.organismSpecies" target="_self">@sub.structurallyDiverse.organismSpecies</a></td>
                </tr>
            }
	        @if(sub.structurallyDiverse.organismAuthor != null) {
                <tr>
                    <td>Author</td>
                    <td>@sub.structurallyDiverse.organismAuthor</td>
                </tr>
            }
	        @if(sub.structurallyDiverse.infraSpecificType != null) {
                <tr>
                    <td>Infraspecific Type</td>
                    <td>@sub.structurallyDiverse.infraSpecificType</td>
                </tr>
            }
	        @if(sub.structurallyDiverse.infraSpecificName != null) {
                <tr>
                    <td>Infraspecific Name</td>
                    <td>@sub.structurallyDiverse.infraSpecificName</td></tr>
            }
	        @if(sub.structurallyDiverse.developmentalStage != null) {
                <tr>
                    <td>Development Stage</td>
                    <td>@sub.structurallyDiverse.developmentalStage</td>
                </tr>
            }
	        @if(sub.structurallyDiverse.partLocation != null) {
                <tr>
                    <td>Part Location</td>
                    <td>@sub.structurallyDiverse.partLocation</td>
                </tr>
            }
	        @if(sub.structurallyDiverse.part != null && sub.structurallyDiverse.part.size() > 0) {
	        	<tr><td>Part</td><td>@sub.structurallyDiverse.getDisplayParts()</td></tr>
	        }                
	        @if(sub.structurallyDiverse.fractionMaterialType != null) {
	        	<tr><td>Fraction Material Type</td><td>@sub.structurallyDiverse.fractionMaterialType</td></tr>
	        }
	        @if(sub.structurallyDiverse.fractionName != null) {
	        	<tr><td>Fraction Name</td><td>@sub.structurallyDiverse.fractionName</td></tr>
	        }
        </table>
        @if(sub.structurallyDiverse.hybridSpeciesMaternalOrganism != null) {
            Hybrid Maternal Organism:
           @properties.subref(sub.structurallyDiverse.hybridSpeciesMaternalOrganism)
        }

        @if(sub.structurallyDiverse.hybridSpeciesPaternalOrganism != null) {
            Hybrid Paternal Organism:
           @properties.subref(sub.structurallyDiverse.hybridSpeciesPaternalOrganism)
        }
        </div>
        <div class="col-md-12" ng-if="audit == true">
            Created by <code>@sub.structurallyDiverse.createdBy</code> on <code>@sub.structurallyDiverse.created</code> , Edited by <code>@sub.structurallyDiverse.lastEditedBy</code> on <code>@sub.structurallyDiverse.lastEdited</code>
        </div>
    </div>
}
