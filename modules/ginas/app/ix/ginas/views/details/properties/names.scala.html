@import ix.ginas.controllers.GinasApp
@import ix.ginas.models.v1.Name
@import ix.ginas.models.v1.Substance

@(names: List[Name], substance: Substance = null)

<button class="btn btn-primary label-offset det">Names&nbsp;<span class="badge"> @names.length</span></button>
<div class="col-md-12 table-responsive">
    <table class="table table-striped" id="namesTable">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Domain</th>
                <th>Jurisdiction</th>
                <th>Naming Org</th>
                <th>Language</th>
                <th>Preferred</th>
                <th>Display Name</th>
                <th>References</th>
            </tr>
        </thead>
        @for(n <- names) {
            <tr>
                 <td  class ="url"><span>@n.name</span><br/>
                
                @for(l <- n.getLocators(substance)) {
                    <span uib-tooltip="@GinasApp.getCV.getDisplay("LOCATORS", l)" class="badge" >@l</span> &nbsp;
                    }
                </td>
                <td>@GinasApp.getCV.getDisplay("NAME_TYPE",{n.`type`})</td>
                <td>
                @for(d <- n.domains) {
                    @GinasApp.getCV.getDisplay("NAME_DOMAIN", d.term) &nbsp;
                }
                </td>
                <td>
                @for(j <- n.nameJurisdiction) {
                    @GinasApp.getCV.getDisplay("JURISDICTION",j.term) &nbsp;
                }</td>
                <td>@for(org <- n.nameOrgs) {
                    @GinasApp.getCV.getDisplay("NAME_ORG", org.nameOrg) &nbsp;
                }</td>
                <td>@for(l <- n.languages) {
                    @GinasApp.getCV.getDisplay("LANGUAGE", l.term) &nbsp;
                }
                </td>
                <td>@if(n.preferred == true) {
                    <i class="fa fa-check fa-2x success"></i>
                } else {}</td>
                 <td>@if(n.isDisplayName() == true) {
                    <i class="fa fa-check fa-2x success"></i>
                } else {}</td>
                @if(n.getReferences.size > 0){
                <td>
                <referencesmanager indices substance ="'@substance.getUuid'" divid ="'@n.getUuid'" references = "@GinasApp.getAsJson(n.getReferences())"></referencesmanager>
                </td>
            </tr>
            <tr><td class = "'@n.getUuid'" colspan = "9"></td></tr>
        }else{
                <td>none</td></tr>
            }
            <tr ng-if="audit == true"><td colspan = "9">Created by <code>@n.createdBy</code> on <code>@n.created</code> , Edited by <code>@n.lastEditedBy</code> on <code>@n.lastEdited</code></td></tr>
        }
    </table>
</div>
