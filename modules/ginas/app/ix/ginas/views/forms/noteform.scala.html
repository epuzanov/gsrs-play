@import ix.ginas.controllers.GinasApp

<div class = "row info">
    <button class="btn btn-primary label-offset det">
                        Notes&nbsp;<span class="badge" ng-show="substance.notes.length>0">
                        {{substance.notes.length}}</span> </button>
    <div class="col-md-12">
        <form class="form-horizontal" name="nameForm" id = "add-name" role="form" novalidate>
            <div class="row form-row">
                <div class="col-md-10 err-check" id="name-div">
                    <text-box ng-model="note.note" field="note"></text-box>
                </div>
                <div class="col-md-1 pull-right">
                    <form-selector ng-model = "note.references" referenceobj= "note" parent = "substance" formname="noteForm" type ="reference"></form-selector>
                </div>
            </div>
            <div class="noteForm"></div>
            <submit-buttons submit="note" form="nameForm" path="notes"></submit-buttons>
        </form>

        <div ng-repeat="obj in substance.notes">
            <div  class ="row">
            <hr>
            <div class="col-md-1">
                <delete-button delete="obj" path="notes"></delete-button>
            </div>
            <div class="col-md-10 err-check" id="name-div">
                <text-box-view-edit obj="obj" field="note"></text-box-view-edit>
            </div>
            <div class="col-md-1 pull-right">
                <form-selector-view obj="obj" referenceobj= "note" parent = "substance" formname="noteForm" type ="reference" divid={{obj.$$hashKey}}></form-selector-view>
            </div>
            </div>
            <div class = {{obj.$$hashKey}}></div>
        </div>
    </div>
</div>