@import ix.ginas.controllers.GinasLoad
@import be.objectify.deadbolt.java.views.html._
@import play.api.Play.current

<!-- BANNER AND MENU -->
<nav class="navbar navbar-default">
    <div class="container-fluid" id="full">
        <div class="navbar-header">

            <button type="button" class="navbar-toggle collapsed"
            data-toggle="collapse" data-target="#menubar">
                <span class="sr-only">Toggle Navigation</span> <i class="fa fa-bars"
            id="menuicon"></i>
            </button>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#searchbarmobile" aria-expanded="false"> <span class="sr-only">Toggle Search</span><i class="fa fa-search"></i>
            </button>
            
        </div>

        <div class="collapse navbar-collapse navbar-default" id="menubar">
            <ul class="nav navbar-nav pull-left">
              <li><a href="@ix.ginas.controllers.routes.GinasFactory.index()" target="_self" alt ="Home" aria-label="Return Home"><span class="sr-only">Return Home</span><span class ="fa fa-home fa-2x" alt ="Home" aria-label="Return Home"></span></a></li>
              <li><a href="@ix.ginas.controllers.routes.GinasApp.substances()" target="_self"><span>Browse Substances</span></a></li>
              @subjectPresent(new ix.ncats.controllers.security.IxDeadboltHandler()) {
                  <li><a href="@ix.ginas.controllers.routes.GinasFactory.register()" target="_self"><span>Register Substance</span></a></li>
              }
              <li><a href="http://tripod.nih.gov/pub/ginasISO/"><span>Download</span></a></li>
	      @**
              <li><a id = "bug-link" data-toggle="modal" data-target="#screenshot" role="button"><i class="fa fa-bug"></i> Report a Bug</a></li>
	      **@
                <li><a ng-href="@ix.ginas.controllers.routes.GinasFactory.structuresearch()" ng-click="clearStructure()" target="_self"><span>Structure Search</span></a></li>
                <li><a ng-href="@ix.ginas.controllers.routes.GinasApp.sequenceSearch" ng-click="clearStructure()" target="_self"><span>Sequence Search</span></a></li>
               
            </ul>
            <div class="nav navbar-nav pull-right" id ="menu-login">
                <ul class="nav navbar-nav pull-right">
                   
                @dynamic(name ="isAdmin" , handler= new ix.ncats.controllers.security.IxDeadboltHandler()) {
@*                    @if(GinasLoad.ALLOW_LOAD) {
                        <li><a href= "@ix.ginas.controllers.routes.GinasLoad.load()" id ="load-button" target="_self"><button class="btn btn-default">
                            Load Data</button></a></li>
                    }*@
                    <li><a href= "@play.api.Play.configuration.getString("application.context").getOrElse("/ginas/app")/admin" id ="admin-button" target="_self"><button class="btn btn-default">Admin</button></a></li>
                }
               
                
                @subjectNotPresentOr(new ix.ncats.controllers.security.IxDeadboltHandler()) {
                    <li><a href= "@play.api.Play.configuration.getString("application.context").getOrElse("/ginas/app")/login" id ="login-button" target="_self"><button class="btn btn-default">
                        Login</button></a></li>
                }{
                    <li>

                        <a href= "@play.api.Play.configuration.getString("application.context").getOrElse("/ginas/app")/logout" id ="login-button" target="_self"><button class="btn btn-default">
                        Logout</button></a></li>
                }
                </ul>
                @if(ix.ncats.controllers.auth.Authentication.getUser() != null) {
                    <h6>Logged in as: @ix.ncats.controllers.auth.Authentication.getUser().username</h6>
                }
            </div>
        </div>
        <div class="hidden-sm hidden-md hidden-lg">
            <div class="navbar-collapse collapse" id="searchbarmobile" aria-expanded="false">
                <form class="form-inline main-search ng-pristine ng-valid" role="search" method="GET" action="@ix.ginas.controllers.routes.GinasApp.substances(null)" id="mobilesearch"
                onsubmit="return validateForm(this.fname.value)">
                    <div class="input-group">
                            <input type="text" class="form-control typeahead" id="searchboxmobile"
                            title="Search" placeholder="Search ..." name="q" aria-label="Search ginas"
                            onsubmit="return submitq(this.q)">
                            <span class="input-group-btn">
                                <button class="btn btn-default" id="search" type="search" aria-label="Search ginas"
                                value="submit">
                                    <span class="sr-only">Search ginas</span>
                                    <span class="fa fa-search"></span>
                                </button>
                            </span>
                        </div>
                </form>
            </div>
        </div>
    </div>
    @ix.ncats.views.html.typeahead(Array("Name", "Substance_Class"))
@*    @screenshot()
    @report()*@
</nav>
